{"filter":false,"title":"index.js","tooltip":"/node-mysql/index.js","undoManager":{"mark":14,"position":14,"stack":[[{"start":{"row":0,"column":0},"end":{"row":157,"column":3},"action":"insert","lines":["","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","\t","//use path module","const path = require('path');","//use express module","const express = require('express');","//use hbs view engine","const hbs = require('hbs');","//use bodyParser middleware","const bodyParser = require('body-parser');","//use mysql database","const mysql = require('mysql');","const app = express();"," ","//Create connection","const conn = mysql.createConnection({","  host: 'localhost',","  user: 'root',","  password: '',","  database: 'crud_db'","});"," ","//connect to database","conn.connect((err) =>{","  if(err) throw err;","  console.log('Mysql Connected...');","});"," ","//set views file","app.set('views',path.join(__dirname,'views'));","//set view engine","app.set('view engine', 'hbs');","app.use(bodyParser.json());","app.use(bodyParser.urlencoded({ extended: false }));","//set public folder as static folder for static file","app.use('/assets',express.static(__dirname + '/public'));"," ","//route for homepage","app.get('/',(req, res) => {","  let sql = \"SELECT * FROM product\";","  let query = conn.query(sql, (err, results) => {","    if(err) throw err;","    res.render('product_view',{","      results: results","    });","  });","});"," ","//route for insert data","app.post('/save',(req, res) => {","  let data = {product_name: req.body.product_name, product_price: req.body.product_price};","  let sql = \"INSERT INTO product SET ?\";","  let query = conn.query(sql, data,(err, results) => {","    if(err) throw err;","    res.redirect('/');","  });","});"," ","//route for update data","app.post('/update',(req, res) => {","  let sql = \"UPDATE product SET product_name='\"+req.body.product_name+\"', product_price='\"+req.body.product_price+\"' WHERE product_id=\"+req.body.id;","  let query = conn.query(sql, (err, results) => {","    if(err) throw err;","    res.redirect('/');","  });","});"," ","//route for delete data","app.post('/delete',(req, res) => {","  let sql = \"DELETE FROM product WHERE product_id=\"+req.body.product_id+\"\";","  let query = conn.query(sql, (err, results) => {","    if(err) throw err;","      res.redirect('/');","  });","});"," ","//server listening","app.listen(8000, () => {","  console.log('Server is running at port 8000');","});"],"id":1}],[{"start":{"row":0,"column":0},"end":{"row":79,"column":1},"action":"remove","lines":["","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","\t"],"id":2}],[{"start":{"row":15,"column":0},"end":{"row":18,"column":21},"action":"remove","lines":["  host: 'localhost',","  user: 'root',","  password: '',","  database: 'crud_db'"],"id":3},{"start":{"row":15,"column":0},"end":{"row":18,"column":88},"action":"insert","lines":["host: 'db4free.net', // O host do banco. Ex: localhost","    user: 'horta11', // Um usuário do banco. Ex: user ","    password: 'abacaxi11', // A senha do usuário. Ex: user123","    database: 'horta11' // A base de dados a qual a aplicação irá se conectar, deve ser "]}],[{"start":{"row":15,"column":0},"end":{"row":15,"column":1},"action":"insert","lines":[" "],"id":4},{"start":{"row":15,"column":1},"end":{"row":15,"column":2},"action":"insert","lines":[" "]},{"start":{"row":15,"column":2},"end":{"row":15,"column":3},"action":"insert","lines":[" "]},{"start":{"row":15,"column":3},"end":{"row":15,"column":4},"action":"insert","lines":[" "]}],[{"start":{"row":77,"column":44},"end":{"row":77,"column":45},"action":"remove","lines":["0"],"id":5},{"start":{"row":77,"column":43},"end":{"row":77,"column":44},"action":"remove","lines":["0"]}],[{"start":{"row":77,"column":43},"end":{"row":77,"column":44},"action":"insert","lines":["8"],"id":6},{"start":{"row":77,"column":44},"end":{"row":77,"column":45},"action":"insert","lines":["0"]}],[{"start":{"row":76,"column":13},"end":{"row":76,"column":14},"action":"remove","lines":["0"],"id":7}],[{"start":{"row":76,"column":13},"end":{"row":76,"column":14},"action":"insert","lines":["8"],"id":8}],[{"start":{"row":0,"column":0},"end":{"row":1,"column":0},"action":"remove","lines":["",""],"id":9}],[{"start":{"row":0,"column":0},"end":{"row":1,"column":0},"action":"insert","lines":["",""],"id":10}],[{"start":{"row":15,"column":45},"end":{"row":15,"column":58},"action":"remove","lines":["Ex: localhost"],"id":11},{"start":{"row":15,"column":44},"end":{"row":15,"column":45},"action":"remove","lines":[" "]}],[{"start":{"row":16,"column":46},"end":{"row":16,"column":54},"action":"remove","lines":["x: user "],"id":12},{"start":{"row":16,"column":45},"end":{"row":16,"column":46},"action":"remove","lines":["E"]}],[{"start":{"row":16,"column":24},"end":{"row":16,"column":26},"action":"remove","lines":["Um"],"id":13}],[{"start":{"row":17,"column":50},"end":{"row":17,"column":61},"action":"remove","lines":["Ex: user123"],"id":14},{"start":{"row":17,"column":49},"end":{"row":17,"column":50},"action":"remove","lines":[" "]},{"start":{"row":17,"column":48},"end":{"row":17,"column":49},"action":"remove","lines":["."]}],[{"start":{"row":18,"column":77},"end":{"row":18,"column":88},"action":"remove","lines":[", deve ser "],"id":15}]]},"ace":{"folds":[],"scrolltop":600,"scrollleft":0,"selection":{"start":{"row":18,"column":77},"end":{"row":18,"column":77},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":40,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1569959376974,"hash":"1e537b35889030ca8850e70ae9cf8bcae0fb9724"}